create table invoice_header
(
invoice_date date NOT NULL,
invoice_time timestamp NOT NULL,
invoice_no NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
billing_address varchar2(100) NOT NULL,
shipping_address varchar2(100) NOT NULL,
buyer_gst char(15) NOT NULL,
consignee_po_no varchar2(10) NOT NULL,
po_date date NOT NULL,
mode_of_transport varchar2(20) NOT NULL,
hsn_code number(6) NOT NULL,
vehicle_no char(10) NOT NULL,
cgst_percent number(2) NOT NULL,
sgst_percent number(2) NOT NULL,
igst_percent number(2) NOT NULL,
seller_bank varchar2(20)NOT NULL,
seller_bank_branch varchar2(100) NOT NULL,
seller_bank_ifsc_code varchar2(20) NOT NULL,
total_invoice_value number(20) NOT NULL
);

insert into invoice_header(invoice_date ,invoice_time ,billing_address ,shipping_address,buyer_gst ,consignee_po_no ,po_date,mode_of_transport,hsn_code ,vehicle_no,cgst_percent ,sgst_percent ,igst_percent ,seller_bank ,seller_bank_branch ,seller_bank_ifsc_code, total_invoice_value ) values(SYSDATE,TO_TIMESTAMP('10:25', 'HH24:MI'),'ABC Street 1 L1 Hyderabad-500071','Street 1 L1 Hyderabad-500071','36ABCDE1234E5F0','po0987', SYSDATE,'Road','987654', 'TG09TG9999',9,9,9, 'PNB','10112 KPHB  Hyderabad','PUNB123456789',13716)

create table invoice_details
(
invoice_line_no NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
invoice_no NUMBER NOT NULL,
package_description varchar2(20) NOT NULL,
no_of_packages number(4) NOT NULL,
quantity number(5) NOT NULL,
unit_of_measurement varchar2(20) NOT NULL,
unit_price number(6) NOT NULL,
total_taxable_value number(10) NOT NULL,
invoice_value number(15) NOT NULL,
constraint fk_invoice
foreign key (invoice_no)
references invoice_header(invoice_no)
);


create unique index inv_dtl_inv_no
on invoice_details (invoice_no)